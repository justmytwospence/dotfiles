## Settings

set-option -g mouse on
set-option -gw aggressive-resize on
set-option -gw allow-rename off
set-option -gw automatic-rename on
set-option -gw base-index 1
set-option -gw default-terminal "screen-256color"
set-option -gw escape-time 0
set-option -gw focus-events on
set-option -gw history-limit 100000
set-option -gw monitor-activity on
set-option -gw pane-base-index 1
set-option -gw prefix C-w
set-option -gw repeat-time 700
set-option -gw status-interval 1

## keybindings

bind-key & kill-window
bind-key -T copy-mode-vi 'v' send-keys -X begin-selection
bind-key -T copy-mode-vi 'y' send-keys -X copy-selection
bind-key R source-file ~/.tmux.conf
bind-key x kill-pane
set-option -gw mode-keys vi
set-option -gw status-keys emacs

# window switching
bind-key -r C-n next-window
bind-key -r C-p previous-window

# pane splitting
bind-key -r C-h resize-pane -L
bind-key -r C-j resize-pane -D
bind-key -r C-k resize-pane -U
bind-key -r C-l resize-pane -R
bind-key -r o select-pane -t :.+
bind-key h select-pane -L
bind-key j select-pane -D
bind-key k select-pane -U
bind-key l select-pane -R
bind-key s split-window -c "#{pane_current_path}"
bind-key v split-window -h -c "#{pane_current_path}"

## theme

# status bar
set-option -g status-bg default
set-option -g status-fg colour21
set-option -g status-left "#[bold]#{?client_prefix,#[fg=colour3],#[fg=colour21]}#(whoami)#{?client_prefix,#[fg=colour3],#[fg=cyan]}@#h#{?client_prefix,#[fg=colour3],#[fg=colour21]}:#S#[nobold] "
set-option -g status-left-length 40
set-option -g status-right "#(tmux-mem --format=\"#[fg=:color]:currentBytes :spark :percent#[fg=colour21]\") #(tmux-cpu --format=\"#[fg=:color]:load5 :spark5 :percent5\")"
set-option -g status-right-length 200

# windows
set-option -g window-status-activity-bg colour18
set-option -g window-status-activity-fg colour3
set-option -g window-status-current-bg default
set-option -g window-status-current-fg colour4
set-option -g window-status-current-format " #[bold]#I:#W "
set-option -g window-status-fg colour21
set-option -g window-status-format " #[bold]#I:#W "

# panes
set-option -g display-panes-active-colour colour245
set-option -g display-panes-colour colour233
set-option -g pane-active-border-bg default
set-option -g pane-active-border-fg colour3
set-option -g pane-border-bg default
set-option -g pane-border-fg colour21

# clock mode
set-option -g clock-mode-colour colour240

# message
set-option -g message-bg default
set-option -g message-fg colour21

## plugins

set-option -g @plugin tmux-plugins/tpm
set-option -g @plugin laktak/extrakto
set-option -g @plugin tmux-plugins/tmux-yank
run ~/.tmux/plugins/tpm/tpm
